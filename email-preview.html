<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Email Ã–nizleme - POC Demo</title>
    <link rel="stylesheet" href="css/styles.css">
    <style>
        body {
            background: #f5f5f5;
        }

        .email-preview-container {
            max-width: 1400px;
            margin: 40px auto;
            padding: 20px;
        }

        .page-header {
            background: white;
            padding: 30px;
            border-radius: 12px;
            margin-bottom: 30px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .page-header h1 {
            margin: 0 0 10px 0;
            color: #1f2937;
            font-size: 32px;
        }

        .page-header p {
            margin: 0;
            color: #6b7280;
            font-size: 16px;
        }

        .email-grid {
            display: grid;
            grid-template-columns: 350px 1fr;
            gap: 20px;
            height: calc(100vh - 250px);
        }

        .email-list {
            background: white;
            border-radius: 12px;
            padding: 20px;
            overflow-y: auto;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .email-list h3 {
            margin: 0 0 20px 0;
            color: #1f2937;
            font-size: 18px;
            padding-bottom: 15px;
            border-bottom: 2px solid #e5e7eb;
        }

        .email-item {
            padding: 16px;
            border-radius: 8px;
            margin-bottom: 10px;
            cursor: pointer;
            transition: all 0.2s;
            border: 2px solid transparent;
        }

        .email-item:hover {
            background: #f9fafb;
        }

        .email-item.active {
            background: #eef2ff;
            border-color: #667eea;
        }

        .email-item-icon {
            font-size: 24px;
            margin-bottom: 8px;
        }

        .email-item-title {
            font-weight: 600;
            color: #1f2937;
            margin-bottom: 4px;
            font-size: 14px;
        }

        .email-item-desc {
            font-size: 12px;
            color: #6b7280;
            line-height: 1.4;
        }

        .email-preview {
            background: white;
            border-radius: 12px;
            padding: 0;
            overflow-y: auto;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .email-preview-header {
            padding: 25px 30px;
            border-bottom: 1px solid #e5e7eb;
            background: #f9fafb;
        }

        .email-preview-header h2 {
            margin: 0 0 10px 0;
            color: #1f2937;
            font-size: 24px;
        }

        .email-meta {
            display: flex;
            flex-direction: column;
            gap: 8px;
            margin-top: 15px;
        }

        .email-meta-row {
            display: flex;
            align-items: center;
            font-size: 14px;
        }

        .email-meta-label {
            font-weight: 600;
            color: #6b7280;
            width: 80px;
        }

        .email-meta-value {
            color: #1f2937;
        }

        .email-preview-body {
            padding: 30px;
        }

        .email-preview iframe {
            width: 100%;
            border: none;
            min-height: 600px;
        }

        .action-buttons {
            padding: 20px 30px;
            border-top: 1px solid #e5e7eb;
            display: flex;
            gap: 12px;
            background: #f9fafb;
        }

        .empty-state {
            text-align: center;
            padding: 60px 20px;
            color: #9ca3af;
        }

        .empty-icon {
            font-size: 64px;
            margin-bottom: 20px;
            opacity: 0.5;
        }

        .badge-poc {
            display: inline-block;
            background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
            color: white;
            padding: 4px 12px;
            border-radius: 6px;
            font-size: 12px;
            font-weight: 600;
            margin-left: 12px;
        }

        .info-banner {
            background: #eff6ff;
            border: 1px solid #bfdbfe;
            border-radius: 8px;
            padding: 16px 20px;
            margin-bottom: 20px;
            display: flex;
            align-items: start;
            gap: 12px;
        }

        .info-banner-icon {
            font-size: 24px;
            flex-shrink: 0;
        }

        .info-banner-content {
            flex: 1;
        }

        .info-banner-content h4 {
            margin: 0 0 6px 0;
            color: #1e40af;
            font-size: 15px;
        }

        .info-banner-content p {
            margin: 0;
            color: #1e3a8a;
            font-size: 14px;
            line-height: 1.5;
        }
    </style>
</head>
<body>
    <div class="topbar">
        <div class="topbar-container">
            <div class="topbar-left">
                <div class="logo">Tez Medikal</div>
            </div>
            <div class="topbar-right">
                <div class="user-info">
                    <span id="userName"></span>
                    <button onclick="window.location.href='dashboard.html'" class="btn btn-sm btn-outline-light">â† Dashboard'a DÃ¶n</button>
                </div>
            </div>
        </div>
    </div>

    <div class="email-preview-container">
        <div class="page-header">
            <h1>ğŸ“§ Email Template Ã–nizleme <span class="badge-poc">POC DEMO</span></h1>
            <p>Sistemin gÃ¶ndereceÄŸi email ÅŸablonlarÄ±nÄ±n Ã¶nizlemesi</p>
        </div>

        <div class="info-banner">
            <div class="info-banner-icon">â„¹ï¸</div>
            <div class="info-banner-content">
                <h4>POC AmaÃ§lÄ± Email Ã–nizleme</h4>
                <p>Bu sayfada sistemin farklÄ± durumlarda gÃ¶ndereceÄŸi email ÅŸablonlarÄ±nÄ± gerÃ§ek verilerle Ã¶nizleyebilirsiniz. GerÃ§ek sistemde bu email'ler otomatik olarak kullanÄ±cÄ±lara gÃ¶nderilecektir.</p>
            </div>
        </div>

        <div class="email-grid">
            <!-- Email List -->
            <div class="email-list">
                <h3>Email ÅablonlarÄ± (4)</h3>

                <div class="email-item active" onclick="showEmailPreview(1)" id="email-item-1">
                    <div class="email-item-icon">âœ…</div>
                    <div class="email-item-title">YÃ¶netici OnayÄ± Bildirimi</div>
                    <div class="email-item-desc">Ä°zin onaylandÄ±ktan sonra Ã§alÄ±ÅŸana gÃ¶nderilen email</div>
                </div>

                <div class="email-item" onclick="showEmailPreview(2)" id="email-item-2">
                    <div class="email-item-icon">â±ï¸</div>
                    <div class="email-item-title">Ä°zin KullanÄ±m OnayÄ±</div>
                    <div class="email-item-desc">Ä°zin bitiminde kullanÄ±m onayÄ± isteyen email</div>
                </div>

                <div class="email-item" onclick="showEmailPreview(3)" id="email-item-3">
                    <div class="email-item-icon">ğŸ“‹</div>
                    <div class="email-item-title">Form YÃ¼kleme HatÄ±rlatmasÄ±</div>
                    <div class="email-item-desc">Ä°mzalÄ± form yÃ¼klenmediÄŸinde gÃ¶nderilen hatÄ±rlatma</div>
                </div>

                <div class="email-item" onclick="showEmailPreview(4)" id="email-item-4">
                    <div class="email-item-icon">ğŸ‰</div>
                    <div class="email-item-title">Otomatik Ä°zin OnayÄ±</div>
                    <div class="email-item-desc">24 saat sonra otomatik onaylanan email</div>
                </div>
            </div>

            <!-- Email Preview -->
            <div class="email-preview">
                <div class="email-preview-header">
                    <h2 id="emailTitle">YÃ¶netici OnayÄ± Bildirimi</h2>
                    <div class="email-meta">
                        <div class="email-meta-row">
                            <span class="email-meta-label">GÃ¶nderen:</span>
                            <span class="email-meta-value">Tez Medikal Ä°zin Sistemi &lt;noreply@tezmedikal.com&gt;</span>
                        </div>
                        <div class="email-meta-row">
                            <span class="email-meta-label">AlÄ±cÄ±:</span>
                            <span class="email-meta-value" id="emailTo">Ali YÄ±lmaz &lt;ali.yilmaz@tezmedikal.com&gt;</span>
                        </div>
                        <div class="email-meta-row">
                            <span class="email-meta-label">Konu:</span>
                            <span class="email-meta-value" id="emailSubject">âœ… Ä°zin Talebiniz OnaylandÄ±!</span>
                        </div>
                    </div>
                </div>

                <div class="email-preview-body">
                    <iframe id="emailFrame" srcdoc=""></iframe>
                </div>

                <div class="action-buttons">
                    <button class="btn btn-primary" onclick="openInNewTab()">ğŸ” Yeni Sekmede AÃ§</button>
                    <button class="btn btn-secondary" onclick="copyEmailHTML()">ğŸ“‹ HTML Kopyala</button>
                </div>
            </div>
        </div>
    </div>

    <script src="js/app.js"></script>
    <script>
        // Auth check
        checkAuth();
        const currentUser = JSON.parse(localStorage.getItem('currentUser'));
        document.getElementById('userName').textContent = currentUser.name;

        // Demo data
        const demoData = {
            employeeName: 'Ali YÄ±lmaz',
            employeeEmail: 'ali.yilmaz@tezmedikal.com',
            leaveType: 'annual',
            leaveTypeName: 'YÄ±llÄ±k Ä°zin',
            startDate: '2025-12-15',
            endDate: '2025-12-25',
            returnToWorkDate: '2025-12-26',
            totalDays: '8 iÅŸ gÃ¼nÃ¼',
            requestId: 'IZN-2025-ABC12345',
            approvalDate: new Date().toLocaleDateString('tr-TR'),
            formCreateLink: 'form-upload.html?id=demo123'
        };

        // Email templates
        const emailTemplates = {
            1: {
                title: 'YÃ¶netici OnayÄ± Bildirimi',
                subject: 'âœ… Ä°zin Talebiniz OnaylandÄ±!',
                to: `${demoData.employeeName} <${demoData.employeeEmail}>`,
                html: generateTemplate1()
            },
            2: {
                title: 'Ä°zin KullanÄ±m OnayÄ±',
                subject: 'â±ï¸ Ä°zninizi KullandÄ±ÄŸÄ±nÄ±zÄ± OnaylayÄ±n',
                to: `${demoData.employeeName} <${demoData.employeeEmail}>`,
                html: generateTemplate2()
            },
            3: {
                title: 'Form YÃ¼kleme HatÄ±rlatmasÄ±',
                subject: 'ğŸ“‹ Ä°mzalÄ± Form Bekleniyor',
                to: `${demoData.employeeName} <${demoData.employeeEmail}>`,
                html: generateTemplate3()
            },
            4: {
                title: 'Otomatik Ä°zin OnayÄ±',
                subject: 'ğŸ‰ Ä°zin KullanÄ±mÄ±nÄ±z Otomatik OnaylandÄ±',
                to: `${demoData.employeeName} <${demoData.employeeEmail}>`,
                html: generateTemplate4()
            }
        };

        // Generate templates
        function generateTemplate1() {
            return `
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 600px;
            margin: 0 auto;
            background: #f5f5f5;
            padding: 20px;
        }
        .email-container {
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }
        .email-header {
            background: linear-gradient(135deg, #4B9F8E 0%, #3a8070 100%);
            color: white;
            padding: 40px 30px;
            text-align: center;
        }
        .email-header h1 {
            margin: 0;
            font-size: 28px;
        }
        .email-body {
            padding: 40px 30px;
        }
        .button {
            display: inline-block;
            padding: 16px 40px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white !important;
            text-decoration: none;
            border-radius: 8px;
            font-weight: 600;
            margin: 20px 0;
            font-size: 16px;
        }
        .info-box {
            background: #f0f9ff;
            border-left: 4px solid #2196F3;
            padding: 20px;
            margin: 25px 0;
            border-radius: 8px;
        }
        .warning-box {
            background: #fff3cd;
            border-left: 4px solid #FFC107;
            padding: 20px;
            margin: 25px 0;
            border-radius: 8px;
        }
        .footer {
            text-align: center;
            padding: 25px;
            color: #666;
            font-size: 13px;
            background: #f9fafb;
            border-top: 1px solid #e5e7eb;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        table td {
            padding: 12px;
            border-bottom: 1px solid #e0e0e0;
        }
        table td:first-child {
            font-weight: 600;
            color: #666;
            width: 40%;
        }
    </style>
</head>
<body>
    <div class="email-container">
        <div class="email-header">
            <h1>âœ… Ä°zin Talebiniz OnaylandÄ±!</h1>
        </div>
        <div class="email-body">
            <p>SayÄ±n <strong>${demoData.employeeName}</strong>,</p>

            <p>Ä°zin talebiniz yÃ¶neticiniz tarafÄ±ndan onaylanmÄ±ÅŸtÄ±r.</p>

            <table>
                <tr>
                    <td>Ä°zin Tipi:</td>
                    <td><strong>${demoData.leaveTypeName}</strong></td>
                </tr>
                <tr>
                    <td>BaÅŸlangÄ±Ã§ Tarihi:</td>
                    <td><strong>${formatDate(demoData.startDate)}</strong></td>
                </tr>
                <tr>
                    <td>BitiÅŸ Tarihi:</td>
                    <td><strong>${formatDate(demoData.endDate)}</strong></td>
                </tr>
                <tr>
                    <td>Ä°ÅŸe BaÅŸlangÄ±Ã§:</td>
                    <td><strong>${formatDate(demoData.returnToWorkDate)}</strong></td>
                </tr>
                <tr>
                    <td>Toplam GÃ¼n:</td>
                    <td><strong>${demoData.totalDays}</strong></td>
                </tr>
            </table>

            <div class="warning-box">
                <strong>âš ï¸ Ã–nemli:</strong> Ä°zninizin resmi olarak geÃ§erli olabilmesi iÃ§in aÅŸaÄŸÄ±daki adÄ±mlarÄ± tamamlamanÄ±z gerekmektedir.
            </div>

            <div class="info-box">
                <strong>ğŸ“‹ YapmanÄ±z Gerekenler:</strong>
                <ol style="margin: 10px 0; padding-left: 20px;">
                    <li>AÅŸaÄŸÄ±daki butona tÄ±klayarak resmi izin formunu oluÅŸturun ve yazdÄ±rÄ±n</li>
                    <li>Formu Ä±slak imza ile imzalayÄ±n</li>
                    <li>Ä°mzaladÄ±ÄŸÄ±nÄ±z formun dijital kopyasÄ±nÄ± (tarama/fotoÄŸraf) sisteme yÃ¼kleyin</li>
                    <li>Formun Ä±slak imzalÄ± aslÄ±nÄ± Ä°nsan KaynaklarÄ± birimine kargolayÄ±n</li>
                </ol>
            </div>

            <center>
                <a href="${demoData.formCreateLink}" class="button">ğŸ“„ Ä°zin Formunu OluÅŸtur</a>
            </center>

            <p style="margin-top: 30px; font-size: 14px;">
                <strong>Kargo Adresi:</strong><br>
                Tez Medikal A.Å.<br>
                Ä°nsan KaynaklarÄ± Birimi<br>
                AtatÃ¼rk Caddesi No: 123<br>
                Ã‡ankaya / ANKARA<br>
                <em>(KarÅŸÄ± Ã¶demeli gÃ¶nderiniz)</em>
            </p>
        </div>
        <div class="footer">
            <p>Bu e-posta otomatik olarak gÃ¶nderilmiÅŸtir.</p>
            <p>Â© 2025 Tez Medikal A.Å. - Ä°zin YÃ¶netim Sistemi</p>
        </div>
    </div>
</body>
</html>
            `;
        }

        function generateTemplate2() {
            return `
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 600px;
            margin: 0 auto;
            background: #f5f5f5;
            padding: 20px;
        }
        .email-container {
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }
        .email-header {
            background: linear-gradient(135deg, #f59e0b 0%, #d97706 100%);
            color: white;
            padding: 40px 30px;
            text-align: center;
        }
        .email-header h1 {
            margin: 0;
            font-size: 28px;
        }
        .email-body {
            padding: 40px 30px;
        }
        .button {
            display: inline-block;
            padding: 16px 40px;
            background: linear-gradient(135deg, #10b981 0%, #059669 100%);
            color: white !important;
            text-decoration: none;
            border-radius: 8px;
            font-weight: 600;
            margin: 20px 0;
            font-size: 16px;
        }
        .warning-box {
            background: #fff3cd;
            border-left: 4px solid #FFC107;
            padding: 20px;
            margin: 25px 0;
            border-radius: 8px;
        }
        .footer {
            text-align: center;
            padding: 25px;
            color: #666;
            font-size: 13px;
            background: #f9fafb;
            border-top: 1px solid #e5e7eb;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        table td {
            padding: 12px;
            border-bottom: 1px solid #e0e0e0;
        }
        table td:first-child {
            font-weight: 600;
            color: #666;
            width: 40%;
        }
    </style>
</head>
<body>
    <div class="email-container">
        <div class="email-header">
            <h1>â±ï¸ Ä°zninizi KullandÄ±ÄŸÄ±nÄ±zÄ± OnaylayÄ±n</h1>
        </div>
        <div class="email-body">
            <p>SayÄ±n <strong>${demoData.employeeName}</strong>,</p>

            <p>Ä°zin dÃ¶neminiz sona ermiÅŸtir. LÃ¼tfen izninizi fiilen kullandÄ±ÄŸÄ±nÄ±zÄ± onaylayÄ±n.</p>

            <table>
                <tr>
                    <td>Ä°zin Tipi:</td>
                    <td><strong>${demoData.leaveTypeName}</strong></td>
                </tr>
                <tr>
                    <td>Ä°zin Tarihleri:</td>
                    <td><strong>${formatDate(demoData.startDate)} - ${formatDate(demoData.endDate)}</strong></td>
                </tr>
                <tr>
                    <td>KullanÄ±lan GÃ¼n:</td>
                    <td><strong>${demoData.totalDays}</strong></td>
                </tr>
            </table>

            <div class="warning-box">
                <strong>â±ï¸ Ã–nemli:</strong> Bu onayÄ± <strong>24 saat iÃ§inde</strong> yapmazsanÄ±z, izniniz otomatik olarak onaylanmÄ±ÅŸ sayÄ±lacaktÄ±r.
            </div>

            <center>
                <a href="izin-onay.html?id=demo123&token=demo" class="button">âœ“ Ä°zin KullanÄ±mÄ±nÄ± Onayla</a>
            </center>

            <p style="margin-top: 30px; font-size: 14px; color: #666;">
                EÄŸer izninizi kullanmadÄ±ysanÄ±z veya bir sorun varsa, lÃ¼tfen derhal Ä°nsan KaynaklarÄ± birimi ile iletiÅŸime geÃ§in.
            </p>
        </div>
        <div class="footer">
            <p>Bu e-posta otomatik olarak gÃ¶nderilmiÅŸtir.</p>
            <p>Â© 2025 Tez Medikal A.Å. - Ä°zin YÃ¶netim Sistemi</p>
        </div>
    </div>
</body>
</html>
            `;
        }

        function generateTemplate3() {
            const remainingDays = 5;
            return `
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 600px;
            margin: 0 auto;
            background: #f5f5f5;
            padding: 20px;
        }
        .email-container {
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }
        .email-header {
            background: linear-gradient(135deg, #ef4444 0%, #dc2626 100%);
            color: white;
            padding: 40px 30px;
            text-align: center;
        }
        .email-header h1 {
            margin: 0;
            font-size: 28px;
        }
        .email-body {
            padding: 40px 30px;
        }
        .button {
            display: inline-block;
            padding: 16px 40px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white !important;
            text-decoration: none;
            border-radius: 8px;
            font-weight: 600;
            margin: 20px 0;
            font-size: 16px;
        }
        .warning-box {
            background: #fff3cd;
            border-left: 4px solid #FFC107;
            padding: 20px;
            margin: 25px 0;
            border-radius: 8px;
        }
        .footer {
            text-align: center;
            padding: 25px;
            color: #666;
            font-size: 13px;
            background: #f9fafb;
            border-top: 1px solid #e5e7eb;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        table td {
            padding: 12px;
            border-bottom: 1px solid #e0e0e0;
        }
        table td:first-child {
            font-weight: 600;
            color: #666;
            width: 40%;
        }
    </style>
</head>
<body>
    <div class="email-container">
        <div class="email-header">
            <h1>âš ï¸ Ä°mzalÄ± Form Bekleniyor</h1>
        </div>
        <div class="email-body">
            <p>SayÄ±n <strong>${demoData.employeeName}</strong>,</p>

            <p>Ä°zin talebiniz onaylanmÄ±ÅŸ ancak henÃ¼z imzalÄ± form yÃ¼kleme iÅŸleminizi tamamlamadÄ±nÄ±z.</p>

            <div class="warning-box">
                <strong>ğŸ“‹ HatÄ±rlatma:</strong> Ä°zninizin resmi kayÄ±tlara geÃ§ebilmesi iÃ§in imzalÄ± formunuzun dijital kopyasÄ±nÄ± sisteme yÃ¼klemeniz gerekmektedir.
            </div>

            <table>
                <tr>
                    <td>Ä°zin BaÅŸlangÄ±cÄ±:</td>
                    <td><strong>${formatDate(demoData.startDate)}</strong></td>
                </tr>
                <tr>
                    <td>Kalan SÃ¼re:</td>
                    <td><strong style="color: #ef4444;">${remainingDays} gÃ¼n</strong></td>
                </tr>
            </table>

            <center>
                <a href="form-upload.html?id=demo123" class="button">ğŸ“¤ Ä°mzalÄ± Formu YÃ¼kle</a>
            </center>
        </div>
        <div class="footer">
            <p>Bu e-posta otomatik olarak gÃ¶nderilmiÅŸtir.</p>
            <p>Â© 2025 Tez Medikal A.Å. - Ä°zin YÃ¶netim Sistemi</p>
        </div>
    </div>
</body>
</html>
            `;
        }

        function generateTemplate4() {
            return `
<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            line-height: 1.6;
            color: #333;
            max-width: 600px;
            margin: 0 auto;
            background: #f5f5f5;
            padding: 20px;
        }
        .email-container {
            background: white;
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        }
        .email-header {
            background: linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%);
            color: white;
            padding: 40px 30px;
            text-align: center;
        }
        .email-header h1 {
            margin: 0;
            font-size: 28px;
        }
        .email-body {
            padding: 40px 30px;
        }
        .info-box {
            background: #f0fdf4;
            border-left: 4px solid #10b981;
            padding: 20px;
            margin: 25px 0;
            border-radius: 8px;
        }
        .footer {
            text-align: center;
            padding: 25px;
            color: #666;
            font-size: 13px;
            background: #f9fafb;
            border-top: 1px solid #e5e7eb;
        }
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 20px 0;
        }
        table td {
            padding: 12px;
            border-bottom: 1px solid #e0e0e0;
        }
        table td:first-child {
            font-weight: 600;
            color: #666;
            width: 40%;
        }
    </style>
</head>
<body>
    <div class="email-container">
        <div class="email-header">
            <h1>ğŸ‰ Ä°zin KullanÄ±mÄ±nÄ±z Otomatik OnaylandÄ±</h1>
        </div>
        <div class="email-body">
            <p>SayÄ±n <strong>${demoData.employeeName}</strong>,</p>

            <p>Ä°zin kullanÄ±m onayÄ± iÃ§in belirlenen sÃ¼re dolduÄŸundan, izniniz sistem tarafÄ±ndan otomatik olarak onaylanmÄ±ÅŸtÄ±r.</p>

            <table>
                <tr>
                    <td>Ä°zin Tipi:</td>
                    <td><strong>${demoData.leaveTypeName}</strong></td>
                </tr>
                <tr>
                    <td>Ä°zin Tarihleri:</td>
                    <td><strong>${formatDate(demoData.startDate)} - ${formatDate(demoData.endDate)}</strong></td>
                </tr>
                <tr>
                    <td>KullanÄ±lan GÃ¼n:</td>
                    <td><strong>${demoData.totalDays}</strong></td>
                </tr>
                <tr>
                    <td>Onay Tarihi:</td>
                    <td><strong>${demoData.approvalDate}</strong></td>
                </tr>
            </table>

            <div class="info-box">
                <strong>â„¹ï¸ Bilgi:</strong> Ä°zniniz kullanÄ±ldÄ± olarak sisteme iÅŸlenmiÅŸtir. Herhangi bir sorun varsa lÃ¼tfen Ä°K birimi ile iletiÅŸime geÃ§in.
            </div>
        </div>
        <div class="footer">
            <p>Bu e-posta otomatik olarak gÃ¶nderilmiÅŸtir.</p>
            <p>Â© 2025 Tez Medikal A.Å. - Ä°zin YÃ¶netim Sistemi</p>
        </div>
    </div>
</body>
</html>
            `;
        }

        function formatDate(dateStr) {
            const date = new Date(dateStr);
            return date.toLocaleDateString('tr-TR', {
                day: '2-digit',
                month: 'long',
                year: 'numeric'
            });
        }

        let currentTemplate = 1;

        // Show email preview
        function showEmailPreview(templateId) {
            currentTemplate = templateId;

            // Update active state
            document.querySelectorAll('.email-item').forEach(item => {
                item.classList.remove('active');
            });
            document.getElementById(`email-item-${templateId}`).classList.add('active');

            // Update email details
            const template = emailTemplates[templateId];
            document.getElementById('emailTitle').textContent = template.title;
            document.getElementById('emailSubject').textContent = template.subject;
            document.getElementById('emailTo').textContent = template.to;

            // Update iframe
            const iframe = document.getElementById('emailFrame');
            iframe.srcdoc = template.html;
        }

        // Open in new tab
        function openInNewTab() {
            const template = emailTemplates[currentTemplate];
            const win = window.open('', '_blank');
            win.document.write(template.html);
            win.document.close();
        }

        // Copy HTML
        function copyEmailHTML() {
            const template = emailTemplates[currentTemplate];
            navigator.clipboard.writeText(template.html).then(() => {
                alert('âœ“ Email HTML kopyalandÄ±!');
            });
        }

        // Show first template on load
        showEmailPreview(1);
    </script>
</body>
</html>
